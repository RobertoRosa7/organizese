<form (ngSubmit)="onSubmit()" class="form">
  <mat-form-field class="field" appearance="outline">
    <input
      type="text"
      [formControl]="searchTerms"
      [matAutocomplete]="auto"
      autocomplete="off"
      name="searchTerms"
      matInput
      placeholder="Procurar"
    />
    <mat-autocomplete
      #auto="matAutocomplete"
      (optionSelected)="setSearch($event)"
    >
      <mat-option
        *ngFor="let option of autocomplete$ | async"
        [value]="option"
        >{{ option }}</mat-option
      >
    </mat-autocomplete>
    <mat-icon
      (click)="$event.stopPropagation()"
      style="cursor: pointer"
      *ngIf="!searchTerms.value"
      [svgIcon]="isDark ? 'search_black_24dp' : 'search_white_24dp'"
      matSuffix
    ></mat-icon>
    <mat-icon
      [svgIcon]="isDark ? 'close_black_24dp' : 'close_white_24dp'"
      *ngIf="searchTerms.value"
      (click)="searchTerms.reset()"
      style="cursor: pointer"
      matSuffix
    ></mat-icon>
  </mat-form-field>
</form>
